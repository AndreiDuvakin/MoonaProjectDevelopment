<link rel="stylesheet" href="../../static/css/main/profile.css">
{% extends "main/base.html" %}

{% block content %}
<input type="button" class="back" onclick="history.back();" value="Назад"/>
<div class="profile">
    <div class="head">
        <img class="user_photo" src="../{{current_user.photo}}">
        <h2 class="user_name">{{current_user.name}}</h2>
    </div>
    <div class="body">
        <form class="row g-3" action="" method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            {{ form.csrf_token }}
            <div class="col-md-6">
                <label class="form-label">{{ form.name.label }}</label>
                {{ form.name(class="form-control", type="text") }}
                {% for error in form.name.errors %}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            </div>
            <div class="col-md-6">
                <label class="form-label">{{ form.surname.label }}</label>
                {{ form.surname(class="form-control", type="text") }}
                {% for error in form.surname.errors %}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            </div>
            <div class="col-md-4">
                <label class="form-label">{{ form.email.label }}</label>
                {{ form.email(class="form-control", type="email") }}
                {% for error in form.email.errors %}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            </div>
            <div class="col-md-4">
                <label class="form-label">{{ form.birthday.label }}</label>
                {{ form.birthday(class="form-control", type="date") }}
                {% for error in form.birthday.errors %}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            </div>
            <div class="col-12">
                <label class="form-label">{{ form.about.label }}</label>
                {{ form.about(class="form-control", type="textarea") }}
                {% for error in form.about.errors %}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
            </div>
            <div class="photo_buttons">
                {% if form.photo.data %}
                {{ form.del_photo(type="submit", class="btn btn-primary") }}
                {% for error in form.del_photo.errors %}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
                {% else %}
                {{ form.photo.label }}<br>
                {{ form.photo(class="form-control") }}<br>
                {% for error in form.photo.errors %}
                <div class="alert alert-danger" role="alert">
                    {{ error }}
                </div>
                {% endfor %}
                {% endif %}
            </div>
            <div class="submit_button">
                <p>{{ form.submit2(type="submit", class="btn btn-primary", style="background-color:#38aaff") }}</p>
                {% if message != '' %}
                <div class="alert alert-danger" role="alert">{{ message }}</div>
                {% endif %}
            </div>
        </form>
    </div>
</div>
{% endblock %}